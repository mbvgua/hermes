<!-- SVG Sprite Container (top of your HTML, hidden) -->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none">
  <symbol id="icon-google" viewBox="0 0 512 512">
    <path
      fill="#fbbd00"
      d="M120 256c0-25.367 6.989-49.13 19.131-69.477v-86.308H52.823C18.568 144.703 0 198.922 0 256s18.568 111.297 52.823 155.785h86.308v-86.308C126.989 305.13 120 281.367 120 256z"
    ></path>
    <path
      fill="#0f9d58"
      d="m256 392-60 60 60 60c57.079 0 111.297-18.568 155.785-52.823v-86.216h-86.216C305.044 385.147 281.181 392 256 392z"
    ></path>
    <path
      fill="#31aa52"
      d="m139.131 325.477-86.308 86.308a260.085 260.085 0 0 0 22.158 25.235C123.333 485.371 187.62 512 256 512V392c-49.624 0-93.117-26.72-116.869-66.523z"
    ></path>
    <path
      fill="#3c79e6"
      d="M512 256a258.24 258.24 0 0 0-4.192-46.377l-2.251-12.299H256v120h121.452a135.385 135.385 0 0 1-51.884 55.638l86.216 86.216a260.085 260.085 0 0 0 25.235-22.158C485.371 388.667 512 324.38 512 256z"
    ></path>
    <path
      fill="#cf2d48"
      d="m352.167 159.833 10.606 10.606 84.853-84.852-10.606-10.606C388.668 26.629 324.381 0 256 0l-60 60 60 60c36.326 0 70.479 14.146 96.167 39.833z"
    ></path>
    <path
      fill="#eb4132"
      d="M256 120V0C187.62 0 123.333 26.629 74.98 74.98a259.849 259.849 0 0 0-22.158 25.235l86.308 86.308C162.883 146.72 206.376 120 256 120z"
    ></path>
  </symbol>

  <symbol id="icon-twitter" viewBox="0 0 22.773 22.773">
    <path
      fill="#fff"
      d="M22.1506 2.11765C21.3353 2.48824 20.4565 2.73176 19.5459 2.84824C20.4776 2.28706 21.1976 1.39765 21.5365 0.328235C20.6576 0.857647 19.6835 1.22824 18.6565 1.44C17.82 0.529412 16.6447 0 15.3106 0C12.8224 0 10.7894 2.03294 10.7894 4.54235C10.7894 4.90235 10.8318 5.25177 10.9059 5.58C7.13647 5.38941 3.78 3.57882 1.54588 0.836471C1.15412 1.50353 0.931765 2.28706 0.931765 3.11294C0.931765 4.69059 1.72588 6.08824 2.95412 6.88235C2.20235 6.88235 1.50353 6.67059 0.889412 6.35294C0.889412 6.35294 0.889412 6.35294 0.889412 6.38471C0.889412 8.58706 2.45647 10.4294 4.53176 10.8424C4.15059 10.9482 3.74823 11.0012 3.33529 11.0012C3.04941 11.0012 2.76353 10.9694 2.48823 10.9165C3.06 12.7059 4.72235 14.04 6.72353 14.0718C5.17765 15.3 3.21882 16.02 1.08 16.02C0.72 16.02 0.36 15.9988 0 15.9565C2.01176 17.2482 4.4047 18 6.96706 18C15.3106 18 19.8953 11.0753 19.8953 5.07176C19.8953 4.87059 19.8953 4.68 19.8847 4.47882C20.7741 3.84353 21.5365 3.03882 22.1506 2.11765Z"
    />
  </symbol>

  <symbol id="icon-facebook" viewBox="0 0 167.657 167.657">
    <path
      fill="#fff"
      d="M83.829.349C37.532.349 0 37.881 0 84.178c0 41.523 30.222 75.911 69.848 82.57v-65.081H49.626v-23.42h20.222V60.978c0-20.037 12.238-30.956 30.115-30.956 8.562 0 15.92.638 18.056.919v20.944l-12.399.006c-9.72 0-11.594 4.618-11.594 11.397v14.947h23.193l-3.025 23.42H94.026v65.653c41.476-5.048 73.631-40.312 73.631-83.154 0-46.273-37.532-83.805-83.828-83.805z"
    ></path>
  </symbol>

  <symbol id="icon-apple" viewBox="0 0 22.773 22.773">
    <path
      fill="#fff"
      d="M15.769 0h.162c.13 1.606-.483 2.806-1.228 3.675-.731.863-1.732 1.7-3.351 1.573-.108-1.583.506-2.694 1.25-3.561C13.292.879 14.557.16 15.769 0zm4.901 16.716v.045c-.455 1.378-1.104 2.559-1.896 3.655-.723.995-1.609 2.334-3.191 2.334-1.367 0-2.275-.879-3.676-.903-1.482-.024-2.297.735-3.652.926h-.462c-.995-.144-1.798-.932-2.383-1.642-1.725-2.098-3.058-4.808-3.306-8.276v-1.019c.105-2.482 1.311-4.5 2.914-5.478.846-.52 2.009-.963 3.304-.765.555.086 1.122.276 1.619.464.471.181 1.06.502 1.618.485.378-.011.754-.208 1.135-.347 1.116-.403 2.21-.865 3.652-.648 1.733.262 2.963 1.032 3.723 2.22-1.466.933-2.625 2.339-2.427 4.74.176 2.181 1.444 3.457 3.028 4.209z"
    ></path>
  </symbol>
</svg>

<!-- Login Page with Bootstrap 5 and larger form -->
<div
  class="flex align-items-center bg-light"
  style="min-height: 100vh; padding: 2rem"
>
  <!--start toast notification-->
  @if (this.message()) {
    <div
      class="toast position-absolute end-0 m-3 show"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
      style="z-index: 1000"
    >
      <!--if success-->
      @if (this.status() == "success") {
        <div class="toast-header bg-success text-white fw-semibold">
          <i class="bi bi-check2-circle"></i>
          <strong class="me-auto">Success</strong>
          <small>now</small>
          <button
            type="button"
            class="btn-close bg-white"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body bg-success text-white fw-semibold">
          {{ this.message() }}
        </div>
        <!--else if error-->
      } @else if (this.status() == "error") {
        <div class="toast-header bg-danger text-white fw-semibold">
          <i class="bi bi-exclamation-triangle"></i>
          <strong class="me-auto">Error</strong>
          <small>now</small>
          <button
            type="button"
            class="btn-close bg-white"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body bg-danger text-white fw-semibold">
          {{ this.message() }}
        </div>
      }
    </div>
  }
  <!--end toast notification-->

  <div class="mx-auto shadow rounded p-5 bg-white" style="max-width: 900px">
    <div class="row g-5">
      <!-- Social Sign-up Section -->
      <div class="col-md-6 order-md-1">
        <div class="mb-5 text-center">
          <h3 class="text-black fw-bold text-capitalize">
            Sign in with socials
          </h3>
        </div>
        <div class="d-grid gap-4">
          <!-- Google Button -->
          <button
            type="button"
            class="btn btn-light d-flex align-items-center justify-content-center text-dark fw-semibold"
          >
            <svg class="me-3" width="22" height="22">
              <use xlink:href="#icon-google"></use>
            </svg>
            Continue with Google
          </button>
          <!-- Twitter Button -->
          <button
            type="button"
            class="btn btn-info text-white d-flex align-items-center justify-content-center fw-semibold"
          >
            <svg class="me-3" width="22" height="22">
              <use xlink:href="#icon-twitter"></use>
            </svg>
            Continue with Twitter
          </button>
          <!-- Facebook Button -->
          <button
            type="button"
            class="btn btn-primary d-flex align-items-center justify-content-center fw-semibold"
          >
            <svg class="me-3" width="22" height="22">
              <use xlink:href="#icon-facebook"></use>
            </svg>
            Continue with Facebook
          </button>
          <!-- Apple Button -->
          <button
            type="button"
            class="btn btn-dark d-flex align-items-center justify-content-center fw-semibold"
          >
            <svg class="me-3" width="22" height="22">
              <use xlink:href="#icon-apple"></use>
            </svg>
            Continue with Apple
          </button>
        </div>
      </div>

      <!-- Email Login Form -->
      <div class="col-md-6 order-md-2">
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <div class="text-center mb-5">
            <h3 class="text-black fw-bold text-capitalize">
              Sign in with email
            </h3>
          </div>
          <!--start username input-->
          <div class="mb-4">
            <label for="username" class="form-label text-secondary fw-bold fs-5"
              >Username</label
            >
            <input
              formControlName="username"
              type="text"
              id="username"
              required
              class="form-control"
              placeholder="Enter username"
              aria-describedby="usernameHelp"
            />
            <!--start usrname validation-->
            <div>
              @if (
                loginForm.get("username")?.touched ||
                loginForm.get("username")?.dirty
              ) {
                <!--required error-->
                @if (loginForm.get("username")?.hasError("required")) {
                  <span class="form-text text-danger fst-italic">
                    Username is required
                  </span>
                }
                <!--min/max length error-->
                @if (
                  loginForm.get("username")?.hasError("minlength") ||
                  loginForm.get("username")?.hasError("maxlength")
                ) {
                  <span class="form-text text-danger fst-italic">
                    Username must have a minimum length of 2 characters and a
                    maximum length of 30 characters
                  </span>
                }
              }
            </div>
            <!--end username validation-->
          </div>
          <!--end username input-->

          <!--start password input-->
          <div class="mb-4">
            <label for="password" class="form-label text-secondary fw-bold fs-5"
              >Password</label
            >

            <input
              formControlName="password"
              type="password"
              id="password"
              required
              class="form-control"
              placeholder="Enter password"
              aria-describedby="passwordHelp"
            />
            <!--start password validation-->
            <div>
              @if (
                loginForm.get("password")?.touched ||
                loginForm.get("password")?.dirty
              ) {
                <!--required error-->
                @if (loginForm.get("password")?.hasError("required")) {
                  <span class="form-text text-danger fst-italic">
                    Password is required</span
                  >
                }
                <!--regex error-->
                @if (loginForm.get("password")?.hasError("pattern")) {
                  <span class="form-text text-danger fst-italic">
                    Password must contain at least one lowercase letter, one
                    uppercase letter, one digit, one special character, and a
                    minimum length of 6 characters!
                  </span>
                }
              }
            </div>
            <!--end password validation-->
          </div>
          <!--end password input-->

          <!--forgot password start-->
          <div class="d-flex justify-content-end mb-4">
            <a
              routerLink="/auth/forgot-password"
              class="text-primary fw-semibold text-decoration-none"
              >Forgot your password?</a
            >
          </div>
          <!--forgot password end-->

          <button
            [disabled]="loginForm.invalid"
            type="submit"
            class="btn btn-primary w-100 fw-semibold text-uppercase"
          >
            Signin
          </button>

          <p class="text-secondary text-center mt-3 fs-6">
            Don't have an account?
            <a
              routerLink="/auth/register"
              class="text-primary fw-semibold text-decoration-none ms-1"
              >Signup here</a
            >
          </p>
        </form>
      </div>
    </div>
  </div>
</div>
